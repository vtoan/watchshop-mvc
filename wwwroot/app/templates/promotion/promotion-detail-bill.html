<!--Product Detail-->
<h3 class="page-title mt-4">Khuyến mãi cho hoá đơn</h3>
<div class="card" ng-show="isLoading"><loading ></loading></div>
<div class="card" ng-hide="isLoading" >
    <p ng-show="ex.isError" class="text-center pt-5" ng-bind="ex.msgError"></p>
    <div ng-hide="ex.isError">
        <div class="card-header">
            <div class="row align-items-center py-3">
                <div class="col-6">
                    <div class="d-flex align-items-center">
                        <span class="pr-3 d-inline-block">Trạng thái</span>
                        <label class="switch mb-0">
                            <input  type="checkbox" ng-model="prom.status" />
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="col-6">
                    <div class="text-right">
                        <button class="btn btn-sm bg-blue white px-lg-4 mr-2"  ng-click ="onSave()">{{::isCreate ? 'Thêm' : 'Lưu' }}</button>
                        <button class="btn btn-sm bg-red white px-lg-4" ng-click="onCannel()">{{::isCreate? 'Huỷ':'Xoá'  }}</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-content">
            <form id="form">
                <h3 class="mb-4">Thông tin chương trình</h3>
                <div class="row">
                    <div class="col-12 col-lg-6 pr-lg-5">
                        <div class="row mb-3">
                            <div class="col-5 col-lg-4">
                                <p>Loại chương trình</p>
                            </div>
                            <div class="col-7 col-lg-8 text-right">
                                <p class="bold">Trên hoá đơn</p>
                            </div>
                        </div>
                        <div class="control-input validate">
                            <label>Tên chương trình</label>
                            <input class="input-invalid" type="text" ng-model="prom.name" placeholder="Nhập tên chương trình" required />
                            <span><span class="error text-sub">Không được để trống</span></span>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="control-input">
                                        <label>Từ ngày</label>
                                        <input type="date" ng-model="prom.fromDate" placeholder="Chọn ngày bắt đầu" />
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="control-input">
                                        <label>Đến ngày</label>
                                        <input type="date" ng-model="prom.toDate" placeholder="Chọn ngày kết thúc" />
                                    </div>
                                </div>
                            </div>
                            <p >Để trống ngày bắt đầu/kết thúc nếu luôn áp dụng khuyến mãi này</p>
                        </div>   
                    </div>
                    <div class="col-12 col-lg-6">
                        <div class="control-input validate">
                            <label>Giảm giá</label>
                            <input class="input-invalid" type="text" ng-model="prom.discount" pattern="[0-9]+%?$" placeholder="Nhập mức giảm giá" required />
                        </div>  
                        <div class="control-input validate">
                            <input class="mr-3" style="width:auto" type="radio" name="product" ng-model="group" value="0" required />
                            <label>Số sản phẩm tối thiểu</label>
                            <input class="{{ !group || group == 1 ? 'muted' : 'input-invalid' }}" type="number" ng-model="prom.conditionItem" placeholder="0" required />
                            <span><span class="error text-sub">Không được để trống</span></span>
                        </div>
                        <div class="control-input validate">
                            <input class="mr-3" style="width:auto" type="radio" name="product" ng-model="group" value="1" required />
                            <label>Tổng giá trị đơn hàng tối thiểu</label>
                            <input class="{{ !group || group == 0 ? 'muted' : 'input-invalid' }}" type="number" ng-model="prom.conditionAmount" placeholder="0" required />
                            <span><span class="error text-sub">Không được để trống</span></span>
                        </div>
                        <p ng-hide="group" class="error" >Chọn 1 trong 2 điều kiện giảm giá</p>
                    </div>
                  
                </div>
            </form>
        </div>
    </div>
</div>
